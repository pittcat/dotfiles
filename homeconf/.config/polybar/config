;
;  ██████╗  ██████╗ ██╗  ██╗   ██╗██████╗  █████╗ ██████╗
;  ██╔══██╗██╔═══██╗██║  ╚██╗ ██╔╝██╔══██╗██╔══██╗██╔══██╗
;  ██████╔╝██║   ██║██║   ╚████╔╝ ██████╔╝███████║██████╔╝
;  ██╔═══╝ ██║   ██║██║    ╚██╔╝  ██╔══██╗██╔══██║██╔══██╗
;  ██║     ╚██████╔╝███████╗██║   ██████╔╝██║  ██║██║  ██║
;  ╚═╝      ╚═════╝ ╚══════╝╚═╝   ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝
;

[global/wm]
margin-top = 0
margin-bottom = 0

wm-restack = i3
override-redirect = true

[settings]
screenchange-reload = true


[colors]
background = #383838
foreground = #5f5f5f

dark = #303030
medium = #404040
light = #dbdbdb

red = #cc6666
magenta = #85678f
violet = #b294bb
blue = #81a2b3
cyan = #8abeb7
green = #b5bd68
yellow = #f0c674
orange = #de935f

[bar/kobra]
monitor = ${env:MONITOR:}
font-0 = JetBrains Mono:pixelsize=10;2
font-1 = JetBrains Mono Nerd Font:weight=medium:size=16;2
font-2 = JetBrains Mono Nerd Font:pixelsize=26;6
font-3 = JetBrains Mono Nerd Font:size=28;4

bottom = false
width = 100%
height = 30
offset-x = 0
offset-y = 0

background = ${colors.background}
foreground = ${colors.foreground}

border-bottom-size = 1
border-bottom-color = ${colors.dark}

spacing = 0
padding-left = 0
padding-right = 0
module-margin-left = 0
module-margin-right = 0

modules-left = i3
modules-center = 
modules-right =polywins network-traffic memory cpu wireless-network wired-network getpbip info-ssh-sessions bluetooth pulseaudio date

fixed-center = false

line-size = 4
line-color = ${colors.background}

tray-detached = false
tray-position = right
tray-padding = 4
tray-maxsize = 26
tray-offset-x = 0
tray-offset-y = 0
tray-background = ${colors.background}



[module/pulseaudio]
type = internal/pulseaudio
interval = 5


label-volume = "VOL %percentage%%"
label-volume-background = ${colors.background}
label-volume-foreground = ${colors.green}



label-volume-padding = 0

label-muted = " Muted "
label-muted-foreground = ${colors.red}
label-muted-background = ${colors.background}
label-muted-padding = 0

click-right = pavucontrol-qt


[module/i3]
type = internal/i3

pin-workspaces = true
strip-wsnumbers = true

index-sort = true

enable-click = true

enable-scroll = false

wrapping-scroll = false
reverse-scroll = false
fuzzy-match = true

label-focused-foreground = ${colors.orange}
label-focused-background = #3f3f3f
label-focused-underline =  ${colors.cyan}
label-focused-padding = 4



[module/network-traffic]
type = custom/script
exec = ~/.config/polybar/network-traffic.sh
tail = true
interval = 10

format-prefix = " "
format-prefix-background = ${colors.dark}
format-prefix-foreground = ${colors.orange}
format-prefix-underline = ${colors.background}
format-prefix-overline = ${colors.background}

label-foreground = ${colors.dark}
label-underline = ${colors.background}
label-background = ${colors.blue}
label-overline = ${colors.background}


[module/info-ssh-sessions]
type = custom/script
exec = ~/.config/polybar/ssh.sh
interval = 3

format-prefix = " "
format-prefix-background = ${colors.dark}
format-prefix-foreground = ${colors.orange}
format-prefix-underline = ${colors.background}
format-prefix-overline = ${colors.background}

label-foreground = ${colors.dark}
label-background = ${colors.orange}
label-underline = ${colors.background}
label-overline = ${colors.background}

[module/polywins]
type = custom/script
exec = ~/.config/polybar/polywins.sh 2>/dev/null
format = <label>
label = %output%
label-padding = 1
tail = true
label-foreground = ${colors.dark}
label-background = ${colors.magenta}
label-underline = ${colors.background}
label-overline = ${colors.background}


[module/wired-network]
type = internal/network
interface = eno1
label-padding = 1
format-connected = <label-connected>
format-disconnected = <label-disconnected>
label-connected = "   %local_ip% "
label-disconnected = " "
format-connected-foreground = ${colors.cyan}

 

[module/wireless-network]
type = internal/network
interface = wlp0s20f3
label-padding = 1
format-connected = <label-connected>
format-disconnected = <label-disconnected>
label-connected =  "   %local_ip% "
label-disconnected = " "
format-connected-foreground = ${colors.violet}


[module/getpbip]
type = custom/script
exec = ~/.config/polybar/getpbip.sh
interval = 10

format-prefix = " "
format-prefix-background = ${colors.dark}
format-prefix-foreground = ${colors.cyan}
format-prefix-underline = ${colors.background}
format-prefix-overline = ${colors.background}

label-foreground = ${colors.dark}
label-background = ${colors.green}
label-underline = ${colors.background}
label-overline = ${colors.background}


[module/bluetooth]
type = custom/script
exec = rofi-bluetooth --status
interval = 1
click-left = rofi-bluetooth &


format-padding = 1
format-prefix-background = ${colors.red}
format-prefix-foreground = ${colors.megenta}
label-foreground = ${colors.dark}
label-background = ${colors.magenta}
label-underline = ${colors.red}
label-overline = ${colors.background}



[module/getprip]
type = custom/script
exec = ~/.config/polybar/getprip.sh
interval = 10

format-prefix = " "
format-prefix-background = ${colors.dark}
format-prefix-foreground = ${colors.cyan}
format-prefix-underline = ${colors.background}
format-prefix-overline = ${colors.background}

label-foreground = ${colors.dark}
label-background = ${colors.magenta}
label-underline = ${colors.background}
label-overline = ${colors.background}



[module/memory]
type = internal/memory
interval = 1

format-prefix = " "
format-prefix-background = ${colors.dark}
format-prefix-foreground = ${colors.violet}
format-prefix-underline = ${colors.background}
format-prefix-overline = ${colors.background}

label = " %percentage_used%% "
label-foreground = ${colors.dark}
label-background = ${colors.violet}
label-underline = ${colors.background}
label-overline = ${colors.background}


[module/cpu]
type = internal/cpu
interval = 1

format-prefix = " "
format-prefix-background = ${colors.dark}
format-prefix-foreground = ${colors.orange}
format-prefix-underline = ${colors.background}
format-prefix-overline = ${colors.background}

label = " %percentage%% "
label-foreground = ${colors.dark}
label-background = ${colors.orange}
label-underline = ${colors.background}
label-overline = ${colors.background}



[module/date]
type = internal/date
exec = TZ=Asia/Shanghai date +"Shanghai: %H:%M"
interval = 2

format-prefix = " "
format-prefix-background = ${colors.dark}
format-prefix-foreground = ${colors.magenta}
format-prefix-underline = ${colors.background}
format-prefix-overline = ${colors.background}

date = " %I:%M %p "
date-alt = " %m/%d/%Y @ %I:%M %p "
label-foreground = ${colors.dark}
label-background = ${colors.magenta}
label-underline = ${colors.background}
label-overline = ${colors.background}
